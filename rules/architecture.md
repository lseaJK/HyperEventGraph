# HyperEventGraph 架构文档

## 1. 项目核心工作流

根据最新回顾，项目核心工作流明确为以下六个步骤：

1.  **输入处理**：
    - **内容**: 加载指定格式的输入文本，例如 `IC_data/filtered_data_demo.json`。
    - **目标**: 为下游事件抽取提供标准化的文本源。

2.  **事件抽取**：
    - **内容**: 使用多个领域抽取器（如半导体、金融）对输入文本进行处理，提取结构化的事件和实体信息。
    - **目标**: 从非结构化文本中获取结构化的 `Event` 对象。

3.  **事理关系分析**：
    - **内容**: 当一篇新闻中包含多个事件时，分析这些事件之间可能存在的因果、时序等关系。
    - **目标**: 识别事件之间的深层逻辑，为构建事理图谱提供关系数据。

4.  **图谱构建与模式学习**：
    - **内容**: 利用双层架构（事件层+模式层）处理事件实例，归纳和总结事件模式，补充事件属性。
    - **目标**: 构建事理图谱，并从中学习、抽象出可复用的事件模式。

5.  **结果输出**：
    - **内容**: 将抽取出的事件列表保存为 `jsonl` 文件，并将构建的图谱持久化到Neo4j数据库。
    - **目标**: 提供标准化的事件数据输出和持久化的知识图谱。

6.  **应用与评估**：
    - **内容**: 基于构建的图谱开发问答（RAG）应用。
    - **目标**: 辅助评判事理图谱的构建效果，并提供实际应用价值。

## 2. 系统模块划分

- **事件抽取模块 (`src/event_extraction`)**: 负责从文本中提取事件。
- **核心架构模块 (`src/core`)**: 实现双层架构，管理事件和模式。
- **存储模块 (`src/storage`)**: 负责与Neo4j数据库交互。
- **RAG模块 (`src/rag`)**: 实现基于图谱的问答功能。
- **测试模块 (`/`)**: 包含各种单元和端到端测试脚本。

---
*文档更新于 2025-07-12*