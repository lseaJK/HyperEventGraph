# 交互式学习工作流操作指南

本文档将指导您如何使用 `run_learning_workflow.py` 脚本，通过交互式命令来探索和定义新的事件类型。

## 第一步：准备环境

在开始之前，请确保您的数据库 (`master_state.db`) 中包含状态为 `pending_learning` 的数据。如果没有，您可以运行以下命令来植入一些测试数据：

```bash
python temp_seed_learning_data.py
```

## 第二步：启动工作流

在您的终端中运行以下命令来启动交互式学习流程：

```bash
python run_learning_workflow.py
```

成功启动后，您会看到类似下面的欢迎信息，以及一个 `learn>` 提示符，等待您输入命令。

## 第三步：执行聚类

工作流启动后，第一件要做的事就是对所有“待学习”的数据进行聚类。这将帮助我们发现潜在的事件模式。

在 `learn>` 提示符后，输入 `cluster` 并按回车：

```
learn> cluster
```

系统会处理数据，并自动显示聚类结果。

## 第四步：探索与合并簇

现在您可以开始探索数据了。

1.  **查看簇列表**:
    输入 `list_clusters` 查看所有簇及其大小。

    ```
    learn> list_clusters
    ```

2.  **查看簇内样本**:
    使用 `show_samples <id>` 查看某个簇的具体内容，判断其代表的事件。

    ```
    learn> show_samples 0
    ```

3.  **合并簇**:
    如果您发现两个簇（例如 `cluster 1` 和 `cluster 3`）实际上属于同一种事件，您可以将它们合并。系统会将较小的簇合并到较大的簇中。

    ```
    learn> merge 1 3
    ```
    合并后，系统会自动再次显示更新后的簇列表。

## 第五步：获取帮助与退出

- **获取帮助**：在任何时候，您都可以输入 `help` 来查看所有可用的命令列表。
- **退出工作流**：当您完成探索后，可以随时输入 `exit` 来退出交互式会話。

---

这份指南涵盖了当前已实现功能的所有操作。随着我们后续开发 `generate_schema`（生成模式）和 `save_schema`（保存模式）等功能，这份指南也会随之更新。