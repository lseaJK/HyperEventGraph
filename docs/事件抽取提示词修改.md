# 最终提示词补丁

非常好的问题！你已经建立了非常清晰、结构化的抽取流程，现在进入了更高级的**事件定义边界**与**事件时态判断**阶段，这是大多数信息抽取系统面临的关键挑战。

---

## 🧠 问题本质：**是否将“预测事件”也视为结构化事件？**

你现在面临的是一个关键设计决策：

> ✅ **是否将预测类内容（如“预计降价”、“可能填补产能”）视为事件？**
> 
> 🔍 如果答案是否，说明你希望“事件”只指**已发生的事实性事件**，而预测、观点、推测、建议等仅作为上下文，不进入结构化结果。

---

## ✅ 目前抽取存在的主要问题

### **1. 预测类内容被当作事实事件输出了**

#### 示例：

json

复制编辑

`{ "event_type": "MarketAction", "micro_event_type": "Forecast", ... }`

#### 问题：

这类事件本质上是**观点性预测**，而不是**已确认发生**的事实。你已明确表示只需要**事实事件**，因此它们**不应作为事件输出**。

---

### **2. 某些事件的“时间”表达不够清晰或准确**

#### 示例：

json

复制编辑

`"event_date": "2023-H2"`

- 如果实际语义是“自2023年下半年以来”，可以标注为 `"period": "since 2023-H2"`。
  
- 但如果没有确认是否已发生（如“恐必须降价”），就不应标注为事件。
  

---

### **3. 预测类内容应该如何处理？（三种策略）**

| 策略  | 描述  | 适用场景 |
| --- | --- | --- |
| ✅ **忽略预测类内容，不作为事件抽取** | 保守策略，只保留已发生的、确凿的事件 | 你目前偏好此策略 |
| 🚧 **单独标记为 "insight" 或 "opinion" 而非事件** | 用于情报系统中观点挖掘 | 信息融合型系统 |
| 🔁 **继续抽取，但在上层标注中设 `is_forecast = true` 明确非事实** | 灵活策略，适合模型训练阶段 | 需要区分事实与预测时 |

---

## ✅ 优化建议（建议采纳）：

### ✅ **改进提示词中的指令：只抽取已发生的、明确信息构成的事件。忽略预测、观点、推测类内容。**

**在原始提示词中加入以下限制条件：**

> - **仅抽取已发生的事实事件。**
>   
> - 对于预测类、推测性内容（如“可能”、“预计”、“恐将”），请忽略，不作为结构化事件抽取。
>   
> - 若事件中含有“预计”、“可能”、“估计”等预测性语言，请视为上下文信息而非结构化事件。
>   

---

## ✅ 修正后的版本输出应为如下（移除预测事件）：

json

复制编辑

`[ { "event_type": "SupplyChainDisruption", "micro_event_type": "InventoryAdjustment", "event_date": "2023-H2", "description": "自2023年下半年库存修正潮开始。", "involved_entities": [ { "entity_name": "晶圆代工厂", "entity_type": "Company", "role_in_event": "主体" } ], "quantitative_data": null, "forecast": null }, { "event_type": "MarketAction", "micro_event_type": "PriceReduction", "event_date": "2023-H2", "description": "自2023年下半年以来，其他晶圆代工厂晶圆代工价格下降约15%至20%。", "involved_entities": [ { "entity_name": "其他晶圆代工厂", "entity_type": "Company", "role_in_event": "主体" }, { "entity_name": "IC设计业者", "entity_type": "IndustryGroup", "role_in_event": "透露者" } ], "quantitative_data": { "metric": "Price", "value": null, "unit": "%", "change_rate": -17.5, "period": "since 2023-H2" }, "forecast": null }, { "event_type": "MarketAction", "micro_event_type": "PriceStability", "event_date": null, "description": "台积电保持晶圆代工价格不变。", "involved_entities": [ { "entity_name": "台积电", "entity_type": "Company", "role_in_event": "主体" } ], "quantitative_data": null, "forecast": null }, { "event_type": "SupplyChainDisruption", "micro_event_type": "CapacityUtilizationLow", "event_date": null, "description": "现阶段晶圆代工厂成熟制程产能利用率低。", "involved_entities": [ { "entity_name": "晶圆代工厂", "entity_type": "Company", "role_in_event": "主体" }, { "entity_name": "业界人士", "entity_type": "IndustryExpert", "role_in_event": "估计者" } ], "quantitative_data": { "metric": "Utilization Rate", "value": null, "unit": "%", "change_rate": null, "period": null }, "forecast": null } ]`

---

## ✅ 最终提示词补丁（建议加在你原有提示词最后）

> 🔒 **注意事项：**
> 
> - 只抽取**已发生的事实事件**。
>   
> - 对于预测类（如“预计”、“恐将”、“估计”等）或推测性内容，请忽略，不作为结构化事件输出。
>   
> - 如果事件不具备明确发生时间或行为，请跳过该条，不要结构化输出。
>   

---

是否希望我将这些更新整合为一份完整的 v2.1 提示词？我可以一次性合并所有最佳实践。

##### 您说：

是的，只抽取已发生的、明确信息构成的事件。忽略预测、观点、推测类内容。请你提供给我完整的提示词

###### ChatGPT 说：

好的，以下是你最终所需的**完整提示词模板 v2.1**，严格限定为抽取**已发生的、明确信息构成的事实事件**，完全忽略预测、观点、推测类内容。该提示词支持多类型、细粒度事件识别，聚焦集成电路/半导体产业。

---

## ✅ 最终提示词模板（v2.1）

**任务名称**：集成电路行业新闻中的**细粒度结构化事件抽取**（仅限事实事件）

---

### 🧠 你的角色：

你是一名专业的信息抽取系统，专注于从集成电路（Semiconductor）和相关产业领域的新闻、公告、研究报告中识别**已发生的明确信息构成的结构化事件**。

---

### 🎯 任务目标：

请从输入文本中抽取**一个或多个已发生的事实事件**，并按如下 JSON 结构输出。每个事件作为独立对象，统一返回为 JSON 数组。

---

### 🧱 抽取维度说明：

每个事件必须包括以下字段（某些为可选）：

| 字段名 | 类型  | 描述  |
| --- | --- | --- |
| `event_type` | string | 事件主类，例如：MarketAction, SupplyChainDisruption, PolicyChange 等 |
| `micro_event_type` | string | 更细粒度的事件类型，如：PriceReduction, CapacityChange, RevenueDrop 等 |
| `event_date` | string or null | 事件发生时间，如 `"2023-Q1"`、`"2023-H2"`、`"2025-07-30"`，不明确则设为 `null` |
| `description` | string | 用自然语言简要描述该事件（不要混入预测） |
| `involved_entities` | array | 涉及的企业、机构、团体 |
| `quantitative_data` | object or null | 若事件中提到量化指标（如价格、收入、利用率）则填写 |
| `forecast` | null | **一律为 null，因为不抽取预测类事件** |

---

### 📌 event_type 推荐值：

- `"MarketAction"`：市场行为，如降价、涨价、营收变动
  
- `"SupplyChainDisruption"`：供应链干扰，如库存、产能问题
  
- `"PolicyChange"`：政策变更（出口管制、补贴等）
  
- `"ExecutiveChange"`：高管变动
  
- `"Partnership"`：公司合作或并购
  
- `"LegalRegulation"`：法律/合规相关动作
  
- `"Other"`：其他明确定义的已发生事件
  

---

### 📌 micro_event_type 示例（根据 event_type 决定）：

- `InventoryAdjustment`
  
- `CapacityChange`
  
- `RevenueDrop`
  
- `PriceReduction`
  
- `PriceStability`
  
- `ProductionDelay`
  
- `ExecutiveDeparture`
  
- `JointVenture`
  
- `ExportRestriction`
  

---

### 📌 特别要求（核心抽取限制）：

> 🚫 **绝对禁止抽取预测类、观点类、推测类内容为事件。**
> 
> - 包含“预计”、“估计”、“预测”、“恐将”、“可能”、“有望”等表达的信息**一律忽略**，不输出结构化事件。
>   
> - 只保留**客观、已发生的、明确信息构成的行为或结果**。
>   
> - `forecast` 字段在所有事件中必须设为 `null`。
>   

---

### 📌 输出格式：

- 返回格式必须为一个 JSON 数组，每个元素是一个事件对象。
  
- 每个事件对象必须遵守如下结构：
  

```json
{ "event_type": "string", "micro_event_type": "string", "event_date": "string or null", "description": "string", "involved_entities": [ { "entity_name": "string", "entity_type": "Company | GovernmentAgency | IndustryGroup | ResearchAgency | IndustryExpert | Other", "role_in_event": "string or null" } ], "quantitative_data": { "metric": "string or null", "value": "number or string", "unit": "string or null", "change_rate": "number or null", "period": "string or null" } or null, "forecast": null }
```

---

### ✅ 示例输入（请严格基于此风格输出）

> 《科创板日报》24日讯，晶圆代工业下半年展望黯淡，IC设计业者透露，目前除了台积电仍坚守价格之外，其他晶圆代工厂都已有不同程度与形式降价，自去年下半年库存修正潮以来，晶圆代工价降幅约15%至20%。业界人士估计，现阶段晶圆代工厂成熟制程产能利用率仍低，后续恐必须祭出更多降价优惠，才能填补产能。

---

### ✅ 示例输出（只保留已发生的事件）：

```json
[ { "event_type": "SupplyChainDisruption", "micro_event_type": "InventoryAdjustment", "event_date": "2023-H2", "description": "自2023年下半年库存修正潮开始，晶圆代工厂进行库存调整。", "involved_entities": [ { "entity_name": "晶圆代工厂", "entity_type": "Company", "role_in_event": "主体" } ], "quantitative_data": null, "forecast": null }, { "event_type": "MarketAction", "micro_event_type": "PriceReduction", "event_date": "2023-H2", "description": "自2023年下半年以来，除台积电外的晶圆代工厂降低晶圆代工价格，降幅约15%至20%。", "involved_entities": [ { "entity_name": "其他晶圆代工厂", "entity_type": "Company", "role_in_event": "主体" }, { "entity_name": "IC设计业者", "entity_type": "IndustryGroup", "role_in_event": "信息提供者" } ], "quantitative_data": { "metric": "Price", "value": null, "unit": "%", "change_rate": -17.5, "period": "since 2023-H2" }, "forecast": null }, { "event_type": "MarketAction", "micro_event_type": "PriceStability", "event_date": null, "description": "台积电维持晶圆代工价格不变。", "involved_entities": [ { "entity_name": "台积电", "entity_type": "Company", "role_in_event": "主体" } ], "quantitative_data": null, "forecast": null }, { "event_type": "SupplyChainDisruption", "micro_event_type": "CapacityUtilizationLow", "event_date": null, "description": "晶圆代工厂成熟制程产能利用率低。", "involved_entities": [ { "entity_name": "晶圆代工厂", "entity_type": "Company", "role_in_event": "主体" }, { "entity_name": "业界人士", "entity_type": "IndustryExpert", "role_in_event": "观察者" } ], "quantitative_data": { "metric": "Utilization Rate", "value": null, "unit": "%", "change_rate": null, "period": null }, "forecast": null } ]
```

---

# 多类型 + 细粒度结构化事件抽取 v2.0

下面是你所需要的**完整提示词模板**，专为细粒度、多类型结构化事件抽取而设计，聚焦于**集成电路/半导体行业**。它涵盖了多事件拆解、子类型标注、定量与预测信息提取等要求，格式完整，可直接用于 GPT 系统、API、信息抽取工作流或标注平台。

---

## ✅ 完整提示词模板（多类型 + 细粒度结构化事件抽取）

你是一名专业的信息抽取系统，任务是从输入的新闻报道、政策公告或研究分析中**识别并提取所有与集成电路/半导体行业相关的结构化事件**，并以标准化 JSON 结构输出。

---

### 🎯 任务目标：

从原始文本中识别**一个或多个细粒度事件**，每个事件都需作为独立对象进行结构化表示，输出为一个 JSON 数组。

---

### 🧱 抽取维度（你必须覆盖以下内容）：

1. **event_type（事件大类）**：标记事件属于哪一类。以下为推荐类别：
  
  - `MarketAction`（市场行为，如收入、产能、市场预测等）
    
  - `ExecutiveChange`（高管变动）
    
  - `SupplyChainDisruption`（供应链干扰）
    
  - `PolicyChange`（政策调整）
    
  - `LegalRegulation`（法规变化）
    
  - `Partnership`（产业合作）
    
  - `Other`（不属于以上类型）
    
2. **micro_event_type（事件子类）**：细化标记事件性质，如：
  
  - `InventoryAdjustment`
    
  - `CapacityChange`
    
  - `RevenueDrop`, `RevenueGrowth`
    
  - `Forecast`
    
  - `ExecutiveDeparture`, `ExecutiveAppointment`
    
  - `ExportRestriction`
    
  - `M&A`, `JointVenture`
    
  - `ProductionDelay`, `MaterialShortage`
    
3. **event_date**：具体时间，优先提取“季度/年份”信息，如 `2023-Q1`, `2023`, `2025-07-23`，未知可设为 `null`。
  
4. **description**：简要描述该事件，清晰准确、便于阅读理解。
  
5. **involved_entities**：该事件中涉及的所有机构/公司，包括其类型与角色（如发起者、监管者、预测者等）。
  
6. **quantitative_data**（可选）：用于表示营收、产能等指标。
  
  - `metric`：指标名（如 Revenue, Utilization, Production）
    
  - `value`：数值（可以是百分比、金额）
    
  - `unit`：单位（如 %, USD, USD Billion）
    
  - `change_rate`：环比或同比变化率，正负值表示涨跌
    
  - `period`：该数据所属的时间段（如 `2023-Q1`）
    
7. **forecast**（可选）：若该事件为预测类信息，填写预测趋势与目标值。
  
  - `is_forecast`: `true` 或 `false`
    
  - `forecast_period`: 所预测的时间段
    
  - `expected_trend`: `increase`, `decrease`, `stable` 等
    
  - `expected_value`: 预测值（如收入或涨幅）
    
  - `expected_unit`: 单位（如 %, USD Billion）
    

---

### 📌 输出格式要求：

- 输出必须为一个 **JSON 数组**（`[]` 包裹多个事件对象）。
  
- **不要输出任何解释、注释、代码块标记或格式说明**，只输出 JSON。
  
- 如果某些字段在原始文本中缺失，请设置为 `null`。
  

---

### ✅ 示例输入：

> 《科创板日报》22日讯，Yole Intelligence表示，由于封装制造商消化库存，2023年上半年利用率下降，导致了2023年第一季度先进封装收入下降了19%。但Yole预计该市场将在第二季度反弹8%。Yole认为2023年下半年将开始出现更显著的复苏，预计到2028年先进封装收入将达到786亿美元，年复合增长率10%。其中2023年由于第一季度拖累增长仅有0.8%，总额达到约440亿美元。

---

### ✅ 示例输出：

```json
[ { "event_type": "SupplyChainDisruption", "micro_event_type": "InventoryAdjustment", "event_date": "2023-H1", "description": "封装制造商正在消化库存，影响产能利用率。", "involved_entities": [ { "entity_name": "封装制造商", "entity_type": "Company", "role_in_event": "主体" } ], "quantitative_data": null, "forecast": null }, { "event_type": "MarketAction", "micro_event_type": "CapacityChange", "event_date": "2023-H1", "description": "2023年上半年产能利用率下降。", "involved_entities": [ { "entity_name": "Yole Intelligence", "entity_type": "ResearchAgency", "role_in_event": "观察者" } ], "quantitative_data": { "metric": "Utilization Rate", "value": null, "unit": "%", "change_rate": null, "period": "2023-H1" }, "forecast": null }, { "event_type": "MarketAction", "micro_event_type": "RevenueDrop", "event_date": "2023-Q1", "description": "2023年第一季度先进封装收入下降19%。", "involved_entities": [ { "entity_name": "Yole Intelligence", "entity_type": "ResearchAgency", "role_in_event": "数据来源" } ], "quantitative_data": { "metric": "Revenue", "value": null, "unit": "%", "change_rate": -19, "period": "2023-Q1" }, "forecast": null }, { "event_type": "MarketAction", "micro_event_type": "Forecast", "event_date": null, "description": "Yole预计2023年第二季度先进封装市场将反弹8%。", "involved_entities": [ { "entity_name": "Yole Intelligence", "entity_type": "ResearchAgency", "role_in_event": "预测方" } ], "quantitative_data": null, "forecast": { "is_forecast": true, "forecast_period": "2023-Q2", "expected_trend": "increase", "expected_value": 8, "expected_unit": "%" } }, { "event_type": "MarketAction", "micro_event_type": "Forecast", "event_date": null, "description": "Yole预测到2028年先进封装市场规模将达到786亿美元。", "involved_entities": [ { "entity_name": "Yole Intelligence", "entity_type": "ResearchAgency", "role_in_event": "预测方" } ], "quantitative_data": null, "forecast": { "is_forecast": true, "forecast_period": "2028", "expected_trend": "increase", "expected_value": 786, "expected_unit": "USD Billion" } }, { "event_type": "MarketAction", "micro_event_type": "AnnualRevenue", "event_date": "2023", "description": "2023年先进封装收入预计为440亿美元，增长率仅为0.8%。", "involved_entities": [ { "entity_name": "Yole Intelligence", "entity_type": "ResearchAgency", "role_in_event": "预测方" } ], "quantitative_data": { "metric": "Revenue", "value": 440, "unit": "USD Billion", "change_rate": 0.8, "period": "2023" }, "forecast": { "is_forecast": true, "forecast_period": "2023", "expected_trend": "increase", "expected_value": 440, "expected_unit": "USD Billion" } } ]
```

---

如果你需要我将这个提示词包装为 OpenAI Function 调用规范、API 工具集、或标注任务指南，我也可以进一步协助。是否需要导出为 API schema 或标注指南？

# 多事件类型结构化抽取（聚焦集成电路行业）v1.0

你是一位专业的信息抽取专家，专注于从新闻、公告、政策解读等文本中提取**集成电路（Semiconductor）行业相关的结构化事件**数据。

---

### 🎯 你的任务：

请从输入文本中识别并提取**一个或多个结构化事件**，并严格按照以下 JSON schema 进行输出。

---

### 📌 输出要求：

1. **输出格式：** 你的输出必须是一个 JSON 数组，每个元素对应一个事件对象，结构必须符合提供的 JSON schema。
  
2. **内容范围：** 只提取与“集成电路/半导体产业”相关的事件，包括但不限于以下类型：
  
  - 政策调整 / 出口管制（PolicyChange）
    
  - 企业高管变动（ExecutiveChange）
    
  - 公司间合作、并购（Partnership）
    
  - 供应链中断、短缺、延迟（SupplyChainDisruption）
    
  - 法律法规或监管（LegalRegulation）
    
  - 市场行为（MarketAction）
    
3. **字段处理：**
  
  - 如果某字段信息缺失，可设置为 `null`。
    
  - `description` 字段必须填写，简明准确地总结该事件的背景与要点。
    
4. **不要输出任何解释、注释或格式说明，只输出纯 JSON 数据。**
  

---

### 📋 JSON Schema（供你参考使用）：

```json
{ "event_type": "string", "event_date": "string (YYYY-MM-DD) or null", "description": "string", "involved_entities": [ { "entity_name": "string", "entity_type": "Company | GovernmentAgency | IndustryAssociation | University | Other", "role_in_event": "string or null" } ], "executive_change": { "company": "string", "departing_executive": "string or null", "new_executive": "string or null", "role": "string or null" }, "policy_details": { "policy_name": "string or null", "policy_action": "string", "affected_items": ["string"], "effective_date": "string (YYYY-MM-DD) or null" }, "supply_chain_impact": { "impact_type": "string", "affected_companies": ["string"] }, "partnership_details": { "partnership_type": "string", "partners": ["string"], "objective": "string" } }
```

---

### ✅ 示例输入（供测试使用）：

```
日本经济产业省宣布自7月23日起，将23类尖端半导体制造设备列入出口限制名单，该政策经过2个月公告期后正式实施。中国外交部发言人回应称，此举人为干扰正常的中日半导体产业合作。
```

---

### ✅ 示例输出（你应该输出类似这样的结构）：

```json
[ { "event_type": "PolicyChange", "event_date": "2025-07-23", "description": "日本经济产业省宣布自2025年7月23日起将23类尖端半导体制造设备列入出口限制名单，引发中方不满。", "involved_entities": [ { "entity_name": "日本经济产业省", "entity_type": "GovernmentAgency", "role_in_event": "发起方" }, { "entity_name": "中华人民共和国外交部", "entity_type": "GovernmentAgency", "role_in_event": "回应方" } ], "executive_change": null, "policy_details": { "policy_name": null, "policy_action": "修订", "affected_items": ["尖端半导体制造设备"], "effective_date": "2025-07-23" }, "supply_chain_impact": null, "partnership_details": null } ]
```