# Task ID: 35
# Title: Task #19: 开发混合检索器并闭合知识循环
# Status: done
# Dependencies: 34
# Priority: high
# Description: 根据需求文档V4.0 (4.3.2节) 的定义，开发混合检索器并闭合知识循环。此任务是实现系统“智能”的关键。
# Details:
1. **开发 `HybridRetrieverAgent`**: 创建一个核心 Agent，其职责是在处理新信息前，从双数据库中检索相关的历史背景。2. **实现混合检索策略**: 对新文本进行实体识别，然后并行地从图数据库进行结构化事实查询，并从向量数据库进行语义相似案例查询。3. **实现知识闭环**: 将检索到的图谱事实和相似案例整合成“背景摘要”，并将其注入到关系分析任务的 Prompt 中，为 LLM 提供决策参考，实现知识增强。

# Test Strategy:
1. 单元测试：为混合检索策略中的图查询和向量查询部分编写单元测试。2. 集成测试：构建一个包含少量知识的测试数据库，验证 `HybridRetrieverAgent` 是否能根据新输入正确检索并生成“背景摘要”。3. 端到端验证：在关系分析工作流中激活该 Agent，对比启用和禁用知识反哺时，LLM 对同一组复杂事件关系判断的准确性差异。
