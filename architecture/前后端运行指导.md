你有一台 Ubuntu 20.04 服务器，上面跑着一个 “前端 + 后端” 项目，但服务器 只有命令行、没有图形界面。
你已经拿到：
私钥文件 abcd.pem（现在放在 Windows 本地 D:\SHUer\abcd.pem）
连接信息 ssh -i abcd.pem -p 8080 jfzpczlgoi@10.0.6.123
你希望在 本地 Windows 电脑 的浏览器里直接看到服务器上运行的前端页面。

1、先看一下你真正的用户名：
powershell -> `whoami`  假设输出是 DESKTOP-RXX\Rxx，那么纯用户名就是 Rxx。
2、以管理员身份打开 PowerShell，一键完成目录、复制、权限【需要一条一条复制，成功会看到 已处理 1 个文件。】
```bash
# 2-1 创建 .ssh 目录（如已存在可忽略提示）
mkdir "$env:USERPROFILE\.ssh" -Force

# 2-2 把私钥拷过去
Copy-Item "D:\SHUer\abcd.pem" "$env:USERPROFILE\.ssh\abcd.pem" -Force

# 2-3 仅给当前用户读取权限（把 rxx 换成上一步得到的用户名）
icacls "$env:USERPROFILE\.ssh\abcd.pem" /inheritance:r /grant:r "rxx:(R)"
```

3、写入 SSH 配置文件（一次性）
`notepad "$env:USERPROFILE\.ssh\config"`记事本打开后，整段复制进去并保存：
```
Host myserver
    HostName 10.0.6.123
    User jfzpczlgoi
    Port 8080
    IdentityFile ~/.ssh/abcd.pem
    HostKeyAlgorithms +ssh-rsa
    PubkeyAcceptedAlgorithms +ssh-rsa
    StrictHostKeyChecking no
```

4、测试登录：`ssh myserver`
---

首先安装前端环境：
升级 Node.js（Ubuntu 20.04 官方源即可 ≥16）
vite 没有安装（sh: 1: vite: not found）
Node 版本太老（v10.19.0，Vite 需要 ≥14）
node_modules 目录缺失（日志也提示了）
```bash
# 先删除系统老版本（可选）
sudo apt remove nodejs npm -y

# 禁用 404 仓库（清华 Neo4j）
sudo sed -i '/mirrors\.tuna\.tsinghua\.edu\.cn\/neo4j/s/^/# /' /etc/apt/sources.list.d/*.list

# 更新软件列表
sudo apt-get update

cd /home/kai

# 用官方脚本装最新 LTS
curl -L -o node-v20.19.3-linux-x64.tar.xz https://registry.npmmirror.com/-/binary/node/latest-v20.x/node-v20.19.3-linux-x64.tar.xz

# 解压
tar -xf node-v20.19.3-linux-x64.tar.xz


# 添加环境变量
echo 'export PATH=$PATH:/home/kai/node-v20.19.3-linux-x64/bin' >> ~/.bashrc
source ~/.bashrc

# 验证
node -v
```

然后安装前端所需环境
```bash
cd /home/kai/HyperEventGraph/frontend

# 安装所有依赖（包含 vite）
npm install --registry=https://registry.npmmirror.com/

# 启动开发服务器
npm run dev
```

5、启动前端并映射端口（示例 5173）
用powershell（普通权限即可）打开，运行后卡住说明转发成功
```bash
ssh -o StrictHostKeyChecking=no -o HostKeyAlgorithms=+ssh-rsa -o PubkeyAcceptedAlgorithms=+ssh-rsa -i "$env:USERPROFILE\.ssh\abcd.pem" -p 8080 -L 5173:localhost:5173 jfzpczlgoi@10.0.6.123 -N
```
windows打开 http://localhost:5173


6、一键脚本（可选）
如果以后重启服务器，可直接在服务器执行：
放在HyperEventGraph目录下，start_frontend.sh
```
#!/bin/bash

# 定义项目路径和 Conda 环境路径
PROJECT_DIR="/home/kai/HyperEventGraph/frontend"
CONDA_DIR="/home/kai/myconda"

# 切换到项目目录
cd "$PROJECT_DIR"

# 检查 Conda 环境目录是否存在
if [ -d "$CONDA_DIR" ]; then
    echo "Conda 环境目录存在，正在激活..."
    source "$CONDA_DIR/etc/profile.d/conda.sh"  # 加载 Conda 初始化脚本
    conda activate heg  # 激活 heg 环境
else
    echo "Conda 环境目录不存在，请检查路径是否正确！"
    exit 1
fi

# 检查是否成功激活 Conda 环境
if [ -n "$CONDA_PREFIX" ]; then
    echo "已成功激活 Conda 环境：$CONDA_PREFIX"
else
    echo "未能成功激活 Conda 环境，请检查 Conda 配置！"
    exit 1
fi

# 启动前端开发服务器
npm run dev -- --host 0.0.0.0 --port 5173
```

赋予权限：`chmod +x start_frontend.sh`
运行脚本：`bash start-frontend.sh`

# 最后的运行方式
1. 在服务器上启动前端项目
```bash
cd /home/kai/HyperEventGraph
bash start_frontend.sh
```

2. 在 Windows 上设置 SSH 端口转发
打开 Windows PowerShell 或命令提示符，然后运行 SSH 命令来设置端口转发。假设服务器上的前端运行在 5173 端口，你可以使用以下命令：
```powershell
ssh -i "$env:USERPROFILE\.ssh\abcd.pem" -p 8080 -L 5173:localhost:5173 jfzpczlgoi@10.0.6.123 -N
```
3. 在本地浏览器中访问前端应用
打开你的浏览器，访问 http://localhost:5173，你应该能够看到服务器上运行的前端应用。

4. 启动后端 `uvicorn src.api.main:app --host 0.0.0.0 --port 8000 --reload`